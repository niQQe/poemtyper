(function(e){function t(t){for(var r,o,i=t[0],s=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),c()}function c(){for(var e,t=0;t<a.length;t++){for(var c=a[t],r=!0,i=1;i<c.length;i++){var s=c[i];0!==n[s]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=c[0]))}return e}var r={},n={app:0},a=[];function o(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=e,o.c=r,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(c,r,function(t){return e[t]}.bind(null,r));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;a.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"029b":function(e,t,c){"use strict";c("fe0d")},"0cec":function(e,t,c){},"0fbc":function(e,t,c){"use strict";c("3660")},3660:function(e,t,c){},"3eb1":function(e,t,c){},"4c15":function(e,t,c){"use strict";c("7688")},5603:function(e,t,c){"use strict";c("76d4")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var r=c("7a23"),n={class:"nav-container"},a=Object(r["createVNode"])("div",{class:"logo"},[Object(r["createVNode"])("div",{class:"logo-img"}),Object(r["createVNode"])("span",null,"Poetry"),Object(r["createTextVNode"])(" Typer ")],-1),o={class:"router-items"},i=Object(r["createTextVNode"])(" Sign in "),s={key:1},u={style:{display:"flex","align-items":"center","font-weight":"500","margin-left":"30px",cursor:"pointer"}},l={style:{"margin-top":"64px",display:"flex","justify-content":"center"}},d={key:0,class:"router-content"};function p(e,t,c,p,b,O){var f=Object(r["resolveComponent"])("router-link"),v=Object(r["resolveComponent"])("router-view"),j=Object(r["resolveDirective"])("wave");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("nav",{class:[p.addNavShadow?"nav-shadow":""],style:{height:"64px",width:"100%","border-bottom":"1px solid #dadce0",position:"fixed",top:"0px",display:"flex","justify-content":"center",background:"#fff","z-index":"200"}},[Object(r["createVNode"])("div",n,[a,Object(r["createVNode"])("div",o,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(p.routerItems,(function(e){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(f,{class:"item",to:e.href,key:e},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.text),1)]})),_:2},1032,["to"])),[[j,{color:"currentColor",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]])})),128)),p.userHandler.authenticated.value?Object(r["createCommentVNode"])("",!0):Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:0,class:"item",onClick:t[1]||(t[1]=function(){return p.login&&p.login.apply(p,arguments)})},[i],512)),[[j,{color:"currentColor",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]]),p.userHandler.isAuthenticated()?(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])("div",u,[Object(r["createVNode"])("img",{style:{width:"30px",height:"30px","border-radius":"30px","margin-left":"auto"},onClick:t[2]||(t[2]=function(t){return e.$router.push("/profile")}),src:p.userHandler.getUserInfo.value.photoURL},null,8,["src"])])])):Object(r["createCommentVNode"])("",!0)])])],2),Object(r["createVNode"])("div",l,[p.fetchComplete?(Object(r["openBlock"])(),Object(r["createBlock"])("div",d,[Object(r["createVNode"])(v)])):Object(r["createCommentVNode"])("",!0)])],64)}var b=c("1da1"),O=(c("96cf"),c("5530")),f=(c("d81d"),c("7db0"),c("4de4"),c("caad"),c("2532"),c("bc3a")),v=c.n(f),j=Object(r["ref"])([]),m=Object(r["ref"])(""),h=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://poetrydb.org/author,title/Shakespeare;Sonnet");case 2:t=e.sent,j.value=t.data.map((function(e,t){return Object(O["a"])({id:t},e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){return j.value.find((function(t){return t.id==e}))},y=Object(r["computed"])((function(){return j.value.length})),k=Object(r["computed"])((function(){return!m.value.length>3?j.value:j.value.filter((function(e){var t=e.lines.reduce((function(e,t){return e+=t,e}),"");return t.toLowerCase().includes(m.value.toLowerCase())||e.title.toLowerCase().includes(m.value.toLowerCase())}))})),N={poemsAmount:y,getPoems:h,getSinglePoem:g,filteredPoems:k,searchString:m},w=Object(r["ref"])({}),x=Object(r["ref"])(!1),V=function(){w.value=arguments.length<=0?void 0:arguments[0]},S=Object(r["computed"])((function(){return w.value})),B=function(){return x.value=!0},I=function(){return x.value=!1},D=function(){return x.value};Object(r["watch"])((function(){return x.value}),(function(e){e||(w.value="")}));var C={setUserInfo:V,getUserInfo:S,authenticated:x,setAuthenticated:B,unsetAuthenticated:I,isAuthenticated:D},T=c("260b"),P=(c("ea7b"),{name:"App",setup:function(){var e=[{text:"Browse Poems",href:"/"},{text:"Rankings",href:"/rankings"}],t=N.getPoems,c=Object(r["ref"])(!1),n=Object(r["ref"])(!1);T["a"].auth().onAuthStateChanged((function(e){if(e){var t=e.email,c=e.photoURL,r=e.uid;C.setUserInfo({email:t,photoURL:c,uid:r}),C.setAuthenticated()}}));var a=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,c,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new T["a"].auth.GoogleAuthProvider,e.prev=1,e.next=4,T["a"].auth().signInWithPopup(t);case 4:c=e.sent,c&&(r=c.user,n=r.email,a=r.photoURL,o=r.uid,C.setUserInfo({email:n,photoURL:a,uid:o})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=function(){window.scrollY>80?n.value=!0:n.value=!1},window.addEventListener("scroll",r),e.next=4,t();case 4:c.value=!0;case 5:case"end":return e.stop()}}),e)})))),{fetchComplete:c,routerItems:e,addNavShadow:n,userHandler:C,login:a}}});c("cab6");P.render=p;var R=P,A=c("6c02"),L=Object(r["withScopeId"])("data-v-c92581f4");Object(r["pushScopeId"])("data-v-c92581f4");var U={style:{width:"100%","margin-top":"20px"}},_={style:{padding:"10px 10px",display:"flex"}},M={style:{border:"1px solid #dadce0",height:"54px",display:"flex","border-radius":"40px",width:"100%","align-items":"center",padding:"0px 15px"}},E=Object(r["createVNode"])("span",{class:"material-icons",style:{color:"#1a73e8","margin-right":"5px"}},"search",-1),H={style:{display:"flex",padding:"0px 10px","margin-top":"10px"}},F={class:"poemscounter"};Object(r["popScopeId"])();var Y=L((function(e,t,c,n,a,o){var i=Object(r["resolveComponent"])("select-component"),s=Object(r["resolveComponent"])("poem-card");return Object(r["openBlock"])(),Object(r["createBlock"])("div",U,[Object(r["createVNode"])("div",_,[Object(r["createVNode"])("div",M,[E,Object(r["withDirectives"])(Object(r["createVNode"])("input",{placeholder:"Search","onUpdate:modelValue":t[1]||(t[1]=function(e){return n.searchString=e}),style:{width:"100%"},type:"text"},null,512),[[r["vModelText"],n.searchString]])])]),Object(r["createVNode"])("div",H,[Object(r["createVNode"])(i)]),Object(r["createVNode"])("div",F,Object(r["toDisplayString"])(n.filteredPoems.length)+" of "+Object(r["toDisplayString"])(n.poemsAmount)+" poems",1),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.filteredPoems,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:e,class:"poem-wrapper"},[Object(r["createVNode"])(s,{poemData:e,onClick:function(t){return n.goTo(e.id)}},null,8,["poemData","onClick"])])})),128))])})),q=Object(r["withScopeId"])("data-v-1de4317f");Object(r["pushScopeId"])("data-v-1de4317f");var K={class:"poem-card"},z={class:"poem-title"},G={class:"poem-author"},J={class:"poem-lines"},W=Object(r["createVNode"])("div",{style:{position:"absolute",bottom:"30px",left:"0",width:"100%",height:"30px","background-image":"linear-gradient(transparent, white)"}},null,-1);Object(r["popScopeId"])();var Q,Z=q((function(e,t,c,n,a,o){var i=Object(r["resolveDirective"])("wave");return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])("div",K,[Object(r["createVNode"])("div",z,Object(r["toDisplayString"])(c.poemData.title),1),Object(r["createVNode"])("div",G,Object(r["toDisplayString"])(c.poemData.author),1),Object(r["createVNode"])("div",{class:["poem-sample",[n.fadeUp?"fadeUp":""]]},Object(r["toDisplayString"])(n.createSample(c.poemData.lines)),3),Object(r["createVNode"])("div",J,Object(r["toDisplayString"])(c.poemData.lines.length),1),W],512)),[[i,{color:"currentColor",easing:"ease-out",duration:.3,initialOpacity:.4,finalOpacity:.1,cancellationPeriod:75}]])})),$=c("8785"),X=(c("a15b"),{props:{poemData:{type:Object,requried:!0}},setup:function(){var e=Object(r["ref"])(!1),t=function(e){return e.join(Q||(Q=Object($["a"])([" "]))).substring(0,90)+"..."};return setTimeout((function(){e.value=!0}),10),{createSample:t,fadeUp:e}}});c("0fbc");X.render=Z,X.__scopeId="data-v-1de4317f";var ee=X,te=Object(r["withScopeId"])("data-v-24d6b57e");Object(r["pushScopeId"])("data-v-24d6b57e");var ce={class:"select"},re={class:"ripple"},ne=Object(r["createVNode"])("span",{class:"selected"}," Author ",-1),ae={class:"options"};Object(r["popScopeId"])();var oe=te((function(e,t,c,n,a,o){var i=Object(r["resolveDirective"])("wave");return Object(r["openBlock"])(),Object(r["createBlock"])("div",ce,[Object(r["createVNode"])("button",{class:"",onClick:t[1]||(t[1]=function(e){return n.showOptions=!0}),onBlur:t[2]||(t[2]=function(e){return n.showOptions=!1})},[Object(r["withDirectives"])(Object(r["createVNode"])("div",re,null,512),[[i,{color:"#1a73e8",easing:"ease-out",duration:.3,initialOpacity:.4,finalOpacity:.1,cancellationPeriod:75}]]),ne,Object(r["createVNode"])("span",{class:"material-icons arrow",style:[n.showOptions?"transform:rotate(180deg)":""]}," arrow_drop_down ",4)],32),n.showOptions?(Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:0,class:["options-container",[n.addTransitionClass?"test":""]]},[Object(r["createVNode"])("div",ae,[Object(r["createVNode"])("div",{onClick:t[3]||(t[3]=function(e){return n.showOptions=!1}),class:"option"},"William Shakespeare")])],2)):Object(r["createCommentVNode"])("",!0)])})),ie={setup:function(){var e=Object(r["ref"])(!1),t=Object(r["ref"])(!1);return Object(r["watch"])((function(){return e.value}),(function(e){e?setTimeout((function(){return t.value=!0}),1):t.value=!1})),{showOptions:e,addTransitionClass:t}}};c("5603");ie.render=oe,ie.__scopeId="data-v-24d6b57e";var se=ie,ue={name:"Home",components:{PoemCard:ee,SelectComponent:se},setup:function(){var e=Object(A["d"])(),t=N.poemsAmount,c=N.searchString,r=N.filteredPoems,n=function(t){setTimeout((function(){e.push("/poems/".concat(t))}),300)};return{goTo:n,filteredPoems:r,poemsAmount:t,searchString:c}}};c("e7d0");ue.render=Y,ue.__scopeId="data-v-c92581f4";var le=ue,de=Object(r["withScopeId"])("data-v-d808466c");Object(r["pushScopeId"])("data-v-d808466c");var pe={class:"poem-wrapper"},be={class:"poem-info"},Oe={class:"title"},fe={class:"author"},ve=Object(r["createTextVNode"])(" Written by "),je=Object(r["createVNode"])("div",{class:"info-wrapper"},[Object(r["createVNode"])("div",{class:"info"},[Object(r["createTextVNode"])(" Time starts when you type the first correct character."),Object(r["createVNode"])("br"),Object(r["createTextVNode"])(" You can cancel and reset your run with the ESC-key."),Object(r["createVNode"])("br"),Object(r["createTextVNode"])(" Login to submit your score. ")])],-1),me={class:"poem-header"},he={class:"poem-nav"},ge=Object(r["createTextVNode"])(" Poem "),ye=Object(r["createTextVNode"])(" Highscore "),ke={class:"value-wrapper"},Ne={class:"value"},we=Object(r["createVNode"])("span",{class:"material-icons icon"},"check",-1),xe={class:"value-wrapper"},Ve={class:"value"},Se=Object(r["createVNode"])("span",{class:"material-icons icon"},"track_changes",-1),Be={class:"value-wrapper"},Ie={class:"value timer"},De=Object(r["createVNode"])("span",{class:"material-icons icon "},"timer",-1),Ce={class:"value-wrapper score"},Te=Object(r["createVNode"])("span",{class:"material-icons icon "},"star_border",-1),Pe={class:"value timer"},Re={key:0,class:"loader-wrapper"},Ae=Object(r["createVNode"])("div",{class:"loader"},null,-1),Le={key:1},Ue={key:2},_e={class:"content-area-wrapper"},Me={class:"content"},Ee={key:0,class:"content-item typing"},He={key:1,class:"content-item highscore"};Object(r["popScopeId"])();var Fe=de((function(e,t,c,n,a,o){var i=Object(r["resolveComponent"])("TypingArea"),s=Object(r["resolveComponent"])("Highscore"),u=Object(r["resolveDirective"])("wave");return Object(r["openBlock"])(),Object(r["createBlock"])("div",pe,[Object(r["createVNode"])("div",be,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div",Oe,Object(r["toDisplayString"])(n.poem.title),1),Object(r["createVNode"])("div",fe,[ve,Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(n.poem.author),1)]),je]),Object(r["createVNode"])("div",me,[Object(r["createVNode"])("div",he,[Object(r["withDirectives"])(Object(r["createVNode"])("button",{onClick:t[1]||(t[1]=function(e){return n.setActiveTab("poem")}),class:["item","poem"===n.activeTab?"active":""],style:["poem"===n.activeTab?"color:#1a73e8":""]},[ge],6),[[u,{color:"#1a73e8",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]]),Object(r["withDirectives"])(Object(r["createVNode"])("button",{onClick:t[2]||(t[2]=function(e){return n.setActiveTab("highscore")}),class:["item","highscore"===n.activeTab?"active":""],style:["highscore"===n.activeTab?"color:#1a73e8":""]},[ye],6),[[u,{color:"#1a73e8",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]]),Object(r["createVNode"])("div",{class:"active-bar",style:["poem"==n.activeTab?"width:101px;left:0px":"left:101px;width:131px;"]},null,4)]),Object(r["createVNode"])("div",{class:["typing-stats",[n.completed?"completed":""]]},[Object(r["createVNode"])("div",ke,[Object(r["createVNode"])("div",Ne,Object(r["toDisplayString"])(n.progressCounter),1),we]),Object(r["createVNode"])("div",xe,[Object(r["createVNode"])("div",Ve,Object(r["toDisplayString"])(n.accuracy)+"%",1),Se]),Object(r["createVNode"])("div",Be,[Object(r["createVNode"])("div",Ie,Object(r["toDisplayString"])(n.timer),1),De]),Object(r["createVNode"])("div",{class:["submit-wrapper",[n.completed?"fadeIn":""]]},[Object(r["createVNode"])("div",Ce,[Te,Object(r["createVNode"])("div",Pe,Object(r["toDisplayString"])(n.statsHandler.getScore()),1)]),Object(r["withDirectives"])(Object(r["createVNode"])("button",{class:["submit-score",n.submitted?"submitted":""],disabled:n.submitted||!n.userHandler.isAuthenticated(),onClick:t[3]||(t[3]=function(){return n.submitScore&&n.submitScore.apply(n,arguments)})},[n.scoreIsSubmitting?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Re,[Ae])):Object(r["createCommentVNode"])("",!0),n.scoreIsSubmitting||n.submitted?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",Le,"Submit score")),n.submitted?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Ue,"Submitted")):Object(r["createCommentVNode"])("",!0)],10,["disabled"]),[[u,{color:"currentColor",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]])],2)],2)])]),Object(r["createVNode"])("div",_e,[Object(r["createVNode"])("div",Me,["poem"===n.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Ee,[Object(r["createVNode"])(i,{poem:n.poem,activeTab:n.activeTab},null,8,["poem","activeTab"])])):Object(r["createCommentVNode"])("",!0),"highscore"===n.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])("div",He,[Object(r["createVNode"])(s,{active:n.activeTab},null,8,["active"])])):Object(r["createCommentVNode"])("",!0)])])])})),Ye=c("ade3"),qe=(c("e71f"),c("66ce"),{apiKey:"AIzaSyByUoAxLg34GJy0f1xM8y7yp7cDfIV6kDw",authDomain:"poemtyper.firebaseapp.com",projectId:"poemtyper",storageBucket:"poemtyper.appspot.com",messagingSenderId:"526714892607",appId:"1:526714892607:web:49292af93ba51c2e50638a",measurementId:"G-CZ89QRP2R3"});T["a"].initializeApp(qe);var Ke=T["a"].firestore();Ke.settings({timestampsInSnapshot:!0,merge:!0});var ze=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var c,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.data,r=C.getUserInfo.value,n=r.email,a=r.uid,e.next=4,Ke.collection("scores").add(Object(O["a"])({email:n,uid:a},c));case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var c,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.data,r=C.getUserInfo.value.email,n=Ke.collection("users").doc(r),e.next=5,n.get();case 5:if(a=e.sent.data(),a){e.next=9;break}return n.set(Object(Ye["a"])({},c.poemName,[c])),e.abrupt("return");case 9:a[c.poemName]?(a[c.poemName].push(c),n.set(Object(O["a"])({},a))):(o=Object(O["a"])(Object(O["a"])({},a),{},Object(Ye["a"])({},c.poemName,[c])),n.set(Object(O["a"])({},o)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.id,e.next=3,Ke.collection("scores").where("poemId","==",c).get();case 3:return r=e.sent,console.log(r),e.abrupt("return",r.docs.map((function(e){return e.data()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=C.getUserInfo.value.email,e.next=3,Ke.collection("users").doc(t).get();case 3:return e.abrupt("return",e.sent.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe={getHighscores:Je,getUserScores:We,postScore:ze,postScoreToUser:Ge},Ze=Object(r["withScopeId"])("data-v-b9231f36");Object(r["pushScopeId"])("data-v-b9231f36");var $e={style:{display:"flex",margin:"auto"}},Xe={class:"type-area"},et={key:0,class:"space"},tt={key:1,style:{margin:"1px"}};Object(r["popScopeId"])();var ct,rt=Ze((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",$e,[Object(r["createVNode"])("div",Xe,[Object(r["createVNode"])("div",{class:["poem",[n.fadeUp?"fadeUp":""]]},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.poemData,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:t,class:"line"},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e,c){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:[[n.caretPosition(t,c)?"caret":"",e.correct?"correct":""],"char"],key:c},[" "===e.char?(Object(r["openBlock"])(),Object(r["createBlock"])("div",et)):(Object(r["openBlock"])(),Object(r["createBlock"])("div",tt,Object(r["toDisplayString"])(e.char),1))],2)})),128))])})),128))],2)])])})),nt=(c("ac1f"),c("1276"),c("498a"),c("159b"),c("b680"),c("5319"),c("99af"),Object(r["ref"])(0)),at=Object(r["ref"])(0),ot=Object(r["ref"])(0),it=Object(r["ref"])(0),st=Object(r["ref"])(0),ut=Object(r["ref"])(0),lt=Object(r["ref"])(!1),dt=Object(r["ref"])(0),pt=function(){return dt.value++},bt=function(){return dt.value=0},Ot=function(){return ut.value=0},ft=function(){return nt.value=0},vt=function(){return ut.value++},jt=function(){return nt.value++},mt=function(e){at.value=e.reduce((function(e,t){return e+=t.length,e}),0)},ht=function(){return wt.value},gt=function(){return Nt.value},yt=function(){return((1e5-+wt.value.replace(/:/g,""))*(+Nt.value/100)).toFixed(0)},kt=Object(r["computed"])((function(){return"".concat(ut.value,"/").concat(at.value)})),Nt=Object(r["computed"])((function(){return 0===dt.value&&0==nt.value?0:(100-dt.value/(nt.value+dt.value)*100).toFixed(1)})),wt=Object(r["computed"])((function(){var e=ot.value>9?ot.value:"0"+ot.value,t=it.value>9?it.value:"0"+it.value,c=st.value>9?st.value:"0"+st.value;return"".concat(e,":").concat(t,":").concat(c)})),xt={minutes:ot,seconds:it,milliseconds:st,progressCount:ut,completed:lt,errors:dt,addError:pt,resetErrors:bt,resetProgressCount:Ot,resetKeyPressCounter:ft,addToProgressCount:vt,addKeyPress:jt,getCharAmount:mt,progressCounter:kt,accuracy:Nt,getTime:ht,getAccuracy:gt,timer:wt,getScore:yt},Vt={name:"App",props:{poem:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup:function(e){var t,c=xt.minutes,n=xt.seconds,a=xt.milliseconds,o=xt.completed,i=xt.addError,s=xt.resetErrors,u=xt.resetProgressCount,l=xt.resetKeyPressCounter,d=xt.addToProgressCount,p=xt.addKeyPress,O=xt.getCharAmount,f=e.poem.lines.reduce((function(e,t){return e.push(t.trim().split(ct||(ct=Object($["a"])([""]))).reduce((function(e,t){return e.push({char:t,correct:null}),e}),[])),e}),[]),v=Object(r["ref"])(!1),j=Object(r["ref"])(0),m=Object(r["ref"])(0);O(f);var h=function(e,t){return e===t},g=function(){return j.value++},y=function(){return m.value===f.length-1&&j.value===f[f.length-1].length},k=function(e){return e.correct=!0},N=function(){return o.value=!0},w=function(){return window.addEventListener("keydown",H)},x=function(){return window.removeEventListener("keydown",H)},V=function(){return clearInterval(t)},S=function(){return m.value++},B=function(){return j.value===f[m.value].length},I=function(){return j.value=0},D=function(){return m.value=0},C=function(e){return 1!=e.length&&"Space"!=e&&"Escape"!=e&&"½"!=e},T=function(e){return"Escape"===e},P=function(){return c.value=0},R=function(){return n.value=0},A=function(){return a.value=0},L=function(){P(),R(),A()},U=function(){return o.value=!1},_=function(){return f.forEach((function(e){return e.forEach((function(e){return e.correct=!1}))}))},M=function(e,t){return m.value===e&&j.value===t},E=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:I(),D(),u(),_(),U(),L(),l(),s(),V();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){if(o.value&&T(e.key))E();else if(!C(e.key))if(T(e.key))E();else{"½"==e.key&&(N(),V());var t=e.key,c=f[m.value][j.value];if(h(t,c.char)){if(d(),k(c),p(),g(),y())return N(),void V();B()&&(S(),I())}else j.value>0&&i()}};return Object(r["watch"])((function(){return e.activeTab}),(function(e){"highscore"===e?x():w()})),Object(r["watch"])((function(){return j.value}),(function(e){1===e&&0==m.value&&(t=setInterval((function(){a.value+=1,100===a.value&&(n.value++,a.value=0),60===n.value&&(n.value=0,c.value++)}),10))})),Object(r["onMounted"])((function(){w(),setTimeout((function(){v.value=!0}),10)})),Object(r["onBeforeUnmount"])(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:I(),D(),u(),_(),U(),L(),l(),s(),V(),x();case 10:case"end":return e.stop()}}),e)})))),{poemData:f,caretPosition:M,completed:o,fadeUp:v}}};c("686c");Vt.render=rt,Vt.__scopeId="data-v-b9231f36";var St=Vt,Bt=Object(r["withScopeId"])("data-v-09423f2c"),It=Bt((function(e,t,c,n,a,o){var i=Object(r["resolveComponent"])("datatable");return n.highscoreLoaded?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0,data:n.highscores,fadeIn:n.fadeIn},null,8,["data","fadeIn"])):Object(r["createCommentVNode"])("",!0)})),Dt=Object(r["withScopeId"])("data-v-938b9c9a");Object(r["pushScopeId"])("data-v-938b9c9a");var Ct=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{class:"text-left position"},"#"),Object(r["createVNode"])("th",{class:"text-left position"},"User"),Object(r["createVNode"])("th",{class:"text-left position"},"Date"),Object(r["createVNode"])("th",{class:"text-right position"},"Accuracy"),Object(r["createVNode"])("th",{class:"text-right position"},"Time"),Object(r["createVNode"])("th",{class:"text-right position"},"Score")],-1),Tt={key:0},Pt={class:"text-left "},Rt={class:"text-left"},At={class:"text-left"},Lt={class:"text-right"},Ut={class:"text-right"},_t={class:"text-right"},Mt={key:1},Et={class:"text-left"},Ht=Object(r["createVNode"])("td",{class:"text-left"},"Could be you!",-1);Object(r["popScopeId"])();var Ft=Dt((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("table",null,[Ct,c.data.length?(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",Tt,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(c.data,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:e,class:[c.fadeIn?"fadeIn":""],style:"transition-delay:".concat("0."+t+80,"s")},[Object(r["createVNode"])("td",Pt,Object(r["toDisplayString"])(t+1),1),Object(r["createVNode"])("td",Rt,Object(r["toDisplayString"])(e.email),1),Object(r["createVNode"])("td",At,Object(r["toDisplayString"])(n.formatDate(e.date.seconds)),1),Object(r["createVNode"])("td",Lt,Object(r["toDisplayString"])(e.accuracy)+"%",1),Object(r["createVNode"])("td",Ut,Object(r["toDisplayString"])(e.time),1),Object(r["createVNode"])("td",_t,Object(r["toDisplayString"])(e.score),1)],6)})),128))])):(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",Mt,[(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(10,(function(e,t){return Object(r["createVNode"])("tr",{key:e,class:[c.fadeIn?"fadeIn":""],style:"transition-delay:".concat("0."+t+80,"s")},[Object(r["createVNode"])("td",Et,Object(r["toDisplayString"])(t+1),1),Ht],6)})),64))]))])})),Yt=c("5a0c"),qt=c.n(Yt),Kt={props:{data:{type:Array,required:!0},fadeIn:{type:Boolean,required:!0}},setup:function(){var e=c("0ecf");qt.a.extend(e);var t=function(e){var t=qt.a.unix(e);return t.local().format("hh:mm:ss A, dddd, MMMM D YYYY")};return{formatDate:t}}};c("029b");Kt.render=Ft,Kt.__scopeId="data-v-938b9c9a";var zt=Kt,Gt={components:{datatable:zt},props:{active:{type:String,required:!1}},setup:function(){var e=Object(r["ref"])(!1),t=Object(A["c"])(),c=Object(r["ref"])([]),n=Object(r["ref"])(!1),a=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe.getHighscores({id:t.params.id});case 3:r=e.sent,c.value=r,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:n.value=!0,setTimeout((function(){e.value=!0}),100);case 4:case"end":return t.stop()}}),t)})))),{fadeIn:e,highscores:c,highscoreLoaded:n}}};c("c56e");Gt.render=It,Gt.__scopeId="data-v-09423f2c";var Jt=Gt,Wt={components:{TypingArea:St,Highscore:Jt},setup:function(){var e=xt.timer,t=xt.progressCounter,c=xt.accuracy,n=xt.completed;Object(r["watch"])((function(){return n.value}),(function(e){return e?o.value=!1:null}));var a=Object(r["ref"])(!1),o=Object(r["ref"])(!1),i=Object(A["c"])(),s=Object(r["ref"])("poem"),u=function(e){return s.value=e},l=N.getSinglePoem(i.params.id),d=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(C.isAuthenticated()){e.next=3;break}return console.log("Im not that stupid"),e.abrupt("return");case 3:return a.value=!0,e.prev=4,e.next=7,Qe.postScore({data:{time:xt.getTime(),score:xt.getScore(),accuracy:xt.getAccuracy(),poemId:String(l.id),poemName:l.title,date:new Date}});case 7:return t=e.sent,e.next=10,Qe.postScoreToUser({data:{time:xt.getTime(),score:xt.getScore(),accuracy:xt.getAccuracy(),poemId:String(l.id),poemName:l.title,date:new Date}});case 10:t&&setTimeout((function(){a.value=!1,o.value=!0}),300),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return{poem:l,activeTab:s,setActiveTab:u,timer:e,progressCounter:t,accuracy:c,completed:n,submitScore:d,statsHandler:xt,scoreIsSubmitting:a,submitted:o,userHandler:C,removeEventListener:removeEventListener}}};c("db7c");Wt.render=Fe,Wt.__scopeId="data-v-d808466c";var Qt=Wt,Zt=Object(r["withScopeId"])("data-v-272c75b8");Object(r["pushScopeId"])("data-v-272c75b8");var $t={style:{width:"100%"}},Xt=Object(r["createVNode"])("div",{class:"title"},"Rankings",-1),ec=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{class:"text-left position"},"Position"),Object(r["createVNode"])("th",{class:"text-left"},"Username"),Object(r["createVNode"])("th",{class:"text-right"},"Accuracy"),Object(r["createVNode"])("th",{class:"text-right"},"Time"),Object(r["createVNode"])("th",{class:"text-right"},"Score")],-1),tc={class:"text-left"},cc=Object(r["createVNode"])("td",{class:"text-left"},"nickewideving@gmail.com",-1),rc=Object(r["createVNode"])("td",{class:"text-right"},"98%",-1),nc=Object(r["createVNode"])("td",{class:"text-right"},"01:23:29",-1),ac=Object(r["createVNode"])("td",{class:"text-right"},"1220",-1);Object(r["popScopeId"])();var oc=Zt((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",$t,[Xt,Object(r["createVNode"])("table",null,[ec,(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(20,(function(e,t){return Object(r["createVNode"])("tr",{key:e},[Object(r["createVNode"])("td",tc,Object(r["toDisplayString"])(t+1),1),cc,rc,nc,ac])})),64))])])})),ic={setup:function(){return{}}};c("8b4b");ic.render=oc,ic.__scopeId="data-v-272c75b8";var sc=ic,uc=Object(r["withScopeId"])("data-v-643e7b64");Object(r["pushScopeId"])("data-v-643e7b64");var lc={class:"profile-wrapper"},dc={class:"user-info"},pc={class:"user-score"},bc=Object(r["createVNode"])("span",null,"Points",-1),Oc={class:"poem-name"},fc=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{class:"text-left position"},"Date"),Object(r["createVNode"])("th",{class:"text-right position"},"Accuracy"),Object(r["createVNode"])("th",{class:"text-right position"},"Time"),Object(r["createVNode"])("th",{class:"text-right position"},"Score")],-1),vc={class:"text-left"},jc={class:"text-right"},mc={class:"text-right"},hc={class:"text-right"};Object(r["popScopeId"])();var gc=uc((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",lc,[Object(r["createVNode"])("div",dc,[Object(r["createVNode"])("img",{height:"60",src:n.photoURL,alt:""},null,8,["src"]),Object(r["createVNode"])("div",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.email)+" ",1),Object(r["createVNode"])("button",{class:"sign-out",onClick:t[1]||(t[1]=function(){return n.logout&&n.logout.apply(n,arguments)})},"Sign out")]),Object(r["createVNode"])("div",pc,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.totalScore),1),bc])]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.typedPoems,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:e,onClick:function(e){return n.setActivePoem(t)},class:["score details",n.activePoems.includes(t)?"expand":""]},[Object(r["createVNode"])("div",Oc,Object(r["toDisplayString"])(t),1),Object(r["createVNode"])("table",null,[fc,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:e},[Object(r["createVNode"])("td",vc,Object(r["toDisplayString"])(n.formatDate(e.date.seconds)),1),Object(r["createVNode"])("td",jc,Object(r["toDisplayString"])(e.accuracy)+"%",1),Object(r["createVNode"])("td",mc,Object(r["toDisplayString"])(e.time),1),Object(r["createVNode"])("td",hc,Object(r["toDisplayString"])(e.score),1)])})),128))])])],10,["onClick"])})),128))])})),yc=(c("c740"),c("a434"),{components:{},setup:function(){var e=Object(A["d"])(),t=Object(r["ref"])([]),n=Object(r["ref"])(""),a=[{text:"Date",align:"left"},{text:"Accuracy",align:"right"},{text:"Time",align:"right"},{text:"Score",align:"right"}],o=c("0ecf");qt.a.extend(o);var i=function(e){var t=qt.a.unix(e);return t.local().format("hh:mm:ss A, dddd, MMMM D YYYY")},s=C.getUserInfo.value,u=s.email,l=s.photoURL,d=Object(r["ref"])(0),p=Object(r["ref"])([]),O=function(e){var t=p.value.findIndex((function(t){return t===e}));-1!=t?p.value.splice(t,1):p.value.push(e)},f=function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T["a"].auth().signOut();case 2:C.unsetAuthenticated(),e.push("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qe.getUserScores();case 2:for(c in t.value=e.sent,t.value)t.value[c].forEach((function(e){d.value+=+e.score}));case 4:case"end":return e.stop()}}),e)})))),{typedPoems:t,activePoem:n,setActivePoem:O,userHandler:C,email:u,photoURL:l,headers:a,formatDate:i,activePoems:p,totalScore:d,logout:f}}});c("4c15");yc.render=gc,yc.__scopeId="data-v-643e7b64";var kc=yc,Nc=[{path:"/",name:"Poems",component:le},{path:"/poems/:id",name:"Poem",component:Qt},{path:"/rankings",name:"Ranking",component:sc},{path:"/profile",name:"profile",component:kc}],wc=Object(A["a"])({history:Object(A["b"])("/"),routes:Nc}),xc=wc,Vc=c("d71b"),Sc=c("2106"),Bc=c.n(Sc);Object(r["createApp"])(R).use(xc).use(Vc["a"]).use(Bc.a,v.a).mount("#app")},"686c":function(e,t,c){"use strict";c("802f")},7688:function(e,t,c){},"76d4":function(e,t,c){},"802f":function(e,t,c){},8063:function(e,t,c){},"8b4b":function(e,t,c){"use strict";c("0cec")},af1c:function(e,t,c){},c56e:function(e,t,c){"use strict";c("3eb1")},cab6:function(e,t,c){"use strict";c("d3a8")},d3a8:function(e,t,c){},db7c:function(e,t,c){"use strict";c("8063")},e7d0:function(e,t,c){"use strict";c("af1c")},fe0d:function(e,t,c){}});
//# sourceMappingURL=app.05da0226.js.map