(function(e){function t(t){for(var r,o,i=t[0],s=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),c()}function c(){for(var e,t=0;t<a.length;t++){for(var c=a[t],r=!0,i=1;i<c.length;i++){var s=c[i];0!==n[s]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=c[0]))}return e}var r={},n={app:0},a=[];function o(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=e,o.c=r,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(c,r,function(t){return e[t]}.bind(null,r));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;a.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"029b":function(e,t,c){"use strict";c("fe0d")},"0cec":function(e,t,c){},"0fbc":function(e,t,c){"use strict";c("3660")},3660:function(e,t,c){},"3eb1":function(e,t,c){},"4c15":function(e,t,c){"use strict";c("7688")},5603:function(e,t,c){"use strict";c("76d4")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var r=c("7a23"),n={class:"nav-container"},a=Object(r["createVNode"])("div",{class:"logo"},[Object(r["createVNode"])("div",{class:"logo-img"}),Object(r["createVNode"])("span",null,"Poetry"),Object(r["createTextVNode"])(" Typer ")],-1),o={class:"router-items"},i=Object(r["createTextVNode"])(" Sign in "),s={key:1},u={style:{display:"flex","align-items":"center","font-weight":"500","margin-left":"30px",cursor:"pointer"}},l={style:{"margin-top":"64px",display:"flex","justify-content":"center"}},d={key:0,class:"router-content"};function p(e,t,c,p,b,f){var O=Object(r["resolveComponent"])("router-link"),v=Object(r["resolveComponent"])("router-view"),j=Object(r["resolveDirective"])("wave");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("nav",{class:[p.addNavShadow?"nav-shadow":""],style:{height:"64px",width:"100%","border-bottom":"1px solid #dadce0",position:"fixed",top:"0px",display:"flex","justify-content":"center",background:"#fff","z-index":"200"}},[Object(r["createVNode"])("div",n,[a,Object(r["createVNode"])("div",o,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(p.routerItems,(function(e){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(O,{class:"item",to:e.href,key:e},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.text),1)]})),_:2},1032,["to"])),[[j,{color:"currentColor",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]])})),128)),p.userHandler.authenticated.value?Object(r["createCommentVNode"])("",!0):Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:0,class:"item",onClick:t[1]||(t[1]=function(){return p.login&&p.login.apply(p,arguments)})},[i],512)),[[j,{color:"currentColor",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]]),p.userHandler.isAuthenticated()?(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])("div",u,[Object(r["createVNode"])("img",{style:{width:"30px",height:"30px","border-radius":"30px","margin-left":"auto"},onClick:t[2]||(t[2]=function(t){return e.$router.push("/profile")}),src:p.userHandler.getUserInfo.value.photoURL},null,8,["src"])])])):Object(r["createCommentVNode"])("",!0)])])],2),Object(r["createVNode"])("div",l,[p.fetchComplete?(Object(r["openBlock"])(),Object(r["createBlock"])("div",d,[Object(r["createVNode"])(v)])):Object(r["createCommentVNode"])("",!0)])],64)}var b=c("1da1"),f=(c("96cf"),c("5530")),O=(c("d81d"),c("7db0"),c("4de4"),c("caad"),c("2532"),c("bc3a")),v=c.n(O),j=Object(r["ref"])([]),m=Object(r["ref"])(""),h=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://poetrydb.org/author,title/Shakespeare;Sonnet");case 2:t=e.sent,j.value=t.data.map((function(e,t){return Object(f["a"])({id:t},e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){return j.value.find((function(t){return t.id==e}))},y=Object(r["computed"])((function(){return j.value.length})),k=Object(r["computed"])((function(){return!m.value.length>3?j.value:j.value.filter((function(e){var t=e.lines.reduce((function(e,t){return e+=t,e}),"");return t.toLowerCase().includes(m.value.toLowerCase())||e.title.toLowerCase().includes(m.value.toLowerCase())}))})),w={poemsAmount:y,getPoems:h,getSinglePoem:g,filteredPoems:k,searchString:m},N=Object(r["ref"])({}),x=Object(r["ref"])(!1),V=function(){N.value=arguments.length<=0?void 0:arguments[0]},S=Object(r["computed"])((function(){return N.value})),B=function(){return x.value=!0},I=function(){return x.value=!1},D=function(){return x.value};Object(r["watch"])((function(){return x.value}),(function(e){e||(N.value="")}));var C={setUserInfo:V,getUserInfo:S,authenticated:x,setAuthenticated:B,unsetAuthenticated:I,isAuthenticated:D},T=c("260b"),P=(c("ea7b"),{name:"App",setup:function(){var e=[{text:"Browse Poems",href:"/"},{text:"Rankings",href:"/rankings"}],t=w.getPoems,c=Object(r["ref"])(!1),n=Object(r["ref"])(!1);T["a"].auth().onAuthStateChanged((function(e){if(e){var t=e.email,c=e.photoURL,r=e.uid;C.setUserInfo({email:t,photoURL:c,uid:r}),C.setAuthenticated()}}));var a=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,c,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new T["a"].auth.GoogleAuthProvider,e.prev=1,e.next=4,T["a"].auth().signInWithPopup(t);case 4:c=e.sent,c&&(r=c.user,n=r.email,a=r.photoURL,o=r.uid,C.setUserInfo({email:n,photoURL:a,uid:o})),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=function(){window.scrollY>80?n.value=!0:n.value=!1},window.addEventListener("scroll",r),e.next=4,t();case 4:c.value=!0;case 5:case"end":return e.stop()}}),e)})))),{fetchComplete:c,routerItems:e,addNavShadow:n,userHandler:C,login:a}}});c("cab6");P.render=p;var R=P,A=c("6c02"),U=Object(r["withScopeId"])("data-v-c92581f4");Object(r["pushScopeId"])("data-v-c92581f4");var L={style:{width:"100%","margin-top":"20px"}},_={style:{padding:"10px 10px",display:"flex"}},M={style:{border:"1px solid #dadce0",height:"54px",display:"flex","border-radius":"40px",width:"100%","align-items":"center",padding:"0px 15px"}},H=Object(r["createVNode"])("span",{class:"material-icons",style:{color:"#1a73e8","margin-right":"5px"}},"search",-1),E={style:{display:"flex",padding:"0px 10px","margin-top":"10px"}},F={class:"poemscounter"};Object(r["popScopeId"])();var Y=U((function(e,t,c,n,a,o){var i=Object(r["resolveComponent"])("select-component"),s=Object(r["resolveComponent"])("poem-card");return Object(r["openBlock"])(),Object(r["createBlock"])("div",L,[Object(r["createVNode"])("div",_,[Object(r["createVNode"])("div",M,[H,Object(r["withDirectives"])(Object(r["createVNode"])("input",{placeholder:"Search","onUpdate:modelValue":t[1]||(t[1]=function(e){return n.searchString=e}),style:{width:"100%"},type:"text"},null,512),[[r["vModelText"],n.searchString]])])]),Object(r["createVNode"])("div",E,[Object(r["createVNode"])(i)]),Object(r["createVNode"])("div",F,Object(r["toDisplayString"])(n.filteredPoems.length)+" of "+Object(r["toDisplayString"])(n.poemsAmount)+" poems",1),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.filteredPoems,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:e,class:"poem-wrapper"},[Object(r["createVNode"])(s,{poemData:e,onClick:function(t){return n.goTo(e.id)}},null,8,["poemData","onClick"])])})),128))])})),q=Object(r["withScopeId"])("data-v-1de4317f");Object(r["pushScopeId"])("data-v-1de4317f");var K={class:"poem-card"},z={class:"poem-title"},G={class:"poem-author"},J={class:"poem-lines"},W=Object(r["createVNode"])("div",{style:{position:"absolute",bottom:"30px",left:"0",width:"100%",height:"30px","background-image":"linear-gradient(transparent, white)"}},null,-1);Object(r["popScopeId"])();var Q,Z=q((function(e,t,c,n,a,o){var i=Object(r["resolveDirective"])("wave");return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])("div",K,[Object(r["createVNode"])("div",z,Object(r["toDisplayString"])(c.poemData.title),1),Object(r["createVNode"])("div",G,Object(r["toDisplayString"])(c.poemData.author),1),Object(r["createVNode"])("div",{class:["poem-sample",[n.fadeUp?"fadeUp":""]]},Object(r["toDisplayString"])(n.createSample(c.poemData.lines)),3),Object(r["createVNode"])("div",J,Object(r["toDisplayString"])(c.poemData.lines.length),1),W],512)),[[i,{color:"currentColor",easing:"ease-out",duration:.3,initialOpacity:.4,finalOpacity:.1,cancellationPeriod:75}]])})),$=c("8785"),X=(c("a15b"),{props:{poemData:{type:Object,requried:!0}},setup:function(){var e=Object(r["ref"])(!1),t=function(e){return e.join(Q||(Q=Object($["a"])([" "]))).substring(0,90)+"..."};return setTimeout((function(){e.value=!0}),10),{createSample:t,fadeUp:e}}});c("0fbc");X.render=Z,X.__scopeId="data-v-1de4317f";var ee=X,te=Object(r["withScopeId"])("data-v-24d6b57e");Object(r["pushScopeId"])("data-v-24d6b57e");var ce={class:"select"},re={class:"ripple"},ne=Object(r["createVNode"])("span",{class:"selected"}," Author ",-1),ae={class:"options"};Object(r["popScopeId"])();var oe=te((function(e,t,c,n,a,o){var i=Object(r["resolveDirective"])("wave");return Object(r["openBlock"])(),Object(r["createBlock"])("div",ce,[Object(r["createVNode"])("button",{class:"",onClick:t[1]||(t[1]=function(e){return n.showOptions=!0}),onBlur:t[2]||(t[2]=function(e){return n.showOptions=!1})},[Object(r["withDirectives"])(Object(r["createVNode"])("div",re,null,512),[[i,{color:"#1a73e8",easing:"ease-out",duration:.3,initialOpacity:.4,finalOpacity:.1,cancellationPeriod:75}]]),ne,Object(r["createVNode"])("span",{class:"material-icons arrow",style:[n.showOptions?"transform:rotate(180deg)":""]}," arrow_drop_down ",4)],32),n.showOptions?(Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:0,class:["options-container",[n.addTransitionClass?"test":""]]},[Object(r["createVNode"])("div",ae,[Object(r["createVNode"])("div",{onClick:t[3]||(t[3]=function(e){return n.showOptions=!1}),class:"option"},"William Shakespeare")])],2)):Object(r["createCommentVNode"])("",!0)])})),ie={setup:function(){var e=Object(r["ref"])(!1),t=Object(r["ref"])(!1);return Object(r["watch"])((function(){return e.value}),(function(e){e?setTimeout((function(){return t.value=!0}),1):t.value=!1})),{showOptions:e,addTransitionClass:t}}};c("5603");ie.render=oe,ie.__scopeId="data-v-24d6b57e";var se=ie,ue={name:"Home",components:{PoemCard:ee,SelectComponent:se},setup:function(){var e=Object(A["d"])(),t=w.poemsAmount,c=w.searchString,r=w.filteredPoems,n=function(t){setTimeout((function(){e.push("/poems/".concat(t))}),300)};return{goTo:n,filteredPoems:r,poemsAmount:t,searchString:c}}};c("e7d0");ue.render=Y,ue.__scopeId="data-v-c92581f4";var le=ue,de=Object(r["withScopeId"])("data-v-1cffd614");Object(r["pushScopeId"])("data-v-1cffd614");var pe={class:"poem-wrapper"},be={class:"poem-info"},fe={class:"title"},Oe={class:"author"},ve=Object(r["createTextVNode"])(" Written by "),je={class:"poem-header"},me={class:"poem-nav"},he=Object(r["createTextVNode"])(" Poem "),ge=Object(r["createTextVNode"])(" Highscore "),ye={class:"value-wrapper"},ke={class:"value"},we=Object(r["createVNode"])("span",{class:"material-icons icon"},"check",-1),Ne={class:"value-wrapper"},xe={class:"value"},Ve=Object(r["createVNode"])("span",{class:"material-icons icon"},"track_changes",-1),Se={class:"value-wrapper"},Be={class:"value timer"},Ie=Object(r["createVNode"])("span",{class:"material-icons icon "},"timer",-1),De={class:"value-wrapper score"},Ce=Object(r["createVNode"])("span",{class:"material-icons icon "},"star_border",-1),Te={class:"value timer"},Pe={key:0,class:"loader-wrapper"},Re=Object(r["createVNode"])("div",{class:"loader"},null,-1),Ae={key:1},Ue={key:2},Le={class:"content-area-wrapper"},_e={class:"content"},Me={key:0,class:"content-item typing"},He={key:1,class:"content-item highscore"};Object(r["popScopeId"])();var Ee=de((function(e,t,c,n,a,o){var i=Object(r["resolveComponent"])("TypingArea"),s=Object(r["resolveComponent"])("Highscore"),u=Object(r["resolveDirective"])("wave");return Object(r["openBlock"])(),Object(r["createBlock"])("div",pe,[Object(r["createVNode"])("div",be,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div",fe,Object(r["toDisplayString"])(n.poem.title),1),Object(r["createVNode"])("div",Oe,[ve,Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(n.poem.author),1)])]),Object(r["createVNode"])("div",je,[Object(r["createVNode"])("div",me,[Object(r["withDirectives"])(Object(r["createVNode"])("button",{onClick:t[1]||(t[1]=function(e){return n.setActiveTab("poem")}),class:["item","poem"===n.activeTab?"active":""],style:["poem"===n.activeTab?"color:#1a73e8":""]},[he],6),[[u,{color:"#1a73e8",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]]),Object(r["withDirectives"])(Object(r["createVNode"])("button",{onClick:t[2]||(t[2]=function(e){return n.setActiveTab("highscore")}),class:["item","highscore"===n.activeTab?"active":""],style:["highscore"===n.activeTab?"color:#1a73e8":""]},[ge],6),[[u,{color:"#1a73e8",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]]),Object(r["createVNode"])("div",{class:"active-bar",style:["poem"==n.activeTab?"width:101px;left:0px":"left:101px;width:131px;"]},null,4)]),Object(r["createVNode"])("div",{class:["typing-stats",[n.completed?"completed":""]]},[Object(r["createVNode"])("div",ye,[Object(r["createVNode"])("div",ke,Object(r["toDisplayString"])(n.progressCounter),1),we]),Object(r["createVNode"])("div",Ne,[Object(r["createVNode"])("div",xe,Object(r["toDisplayString"])(n.accuracy)+"%",1),Ve]),Object(r["createVNode"])("div",Se,[Object(r["createVNode"])("div",Be,Object(r["toDisplayString"])(n.timer),1),Ie]),Object(r["createVNode"])("div",{class:["submit-wrapper",[n.completed?"fadeIn":""]]},[Object(r["createVNode"])("div",De,[Ce,Object(r["createVNode"])("div",Te,Object(r["toDisplayString"])(n.statsHandler.getScore()),1)]),Object(r["withDirectives"])(Object(r["createVNode"])("button",{class:["submit-score",n.submitted?"submitted":""],disabled:n.submitted||!n.userHandler.isAuthenticated(),onClick:t[3]||(t[3]=function(){return n.submitScore&&n.submitScore.apply(n,arguments)})},[n.scoreIsSubmitting?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Pe,[Re])):Object(r["createCommentVNode"])("",!0),n.scoreIsSubmitting||n.submitted?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",Ae,"Submit score")),n.submitted?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Ue,"Submitted")):Object(r["createCommentVNode"])("",!0)],10,["disabled"]),[[u,{color:"currentColor",easing:"ease-out",duration:.4,initialOpacity:.2,finalOpacity:.1,cancellationPeriod:75}]])],2)],2)])]),Object(r["createVNode"])("div",Le,[Object(r["createVNode"])("div",_e,["poem"===n.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Me,[Object(r["createVNode"])(i,{poem:n.poem,activeTab:n.activeTab},null,8,["poem","activeTab"])])):Object(r["createCommentVNode"])("",!0),"highscore"===n.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])("div",He,[Object(r["createVNode"])(s,{active:n.activeTab},null,8,["active"])])):Object(r["createCommentVNode"])("",!0)])])])})),Fe=c("ade3"),Ye=(c("e71f"),c("66ce"),{apiKey:"AIzaSyByUoAxLg34GJy0f1xM8y7yp7cDfIV6kDw",authDomain:"poemtyper.firebaseapp.com",projectId:"poemtyper",storageBucket:"poemtyper.appspot.com",messagingSenderId:"526714892607",appId:"1:526714892607:web:49292af93ba51c2e50638a",measurementId:"G-CZ89QRP2R3"});T["a"].initializeApp(Ye);var qe=T["a"].firestore();qe.settings({timestampsInSnapshot:!0,merge:!0});var Ke=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var c,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.data,r=C.getUserInfo.value,n=r.email,a=r.uid,e.next=4,qe.collection("scores").add(Object(f["a"])({email:n,uid:a},c));case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var c,r,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.data,r=C.getUserInfo.value.email,n=qe.collection("users").doc(r),e.next=5,n.get();case 5:if(a=e.sent.data(),a){e.next=9;break}return n.set(Object(Fe["a"])({},c.poemName,[c])),e.abrupt("return");case 9:a[c.poemName]?(a[c.poemName].push(c),n.set(Object(f["a"])({},a))):(o=Object(f["a"])(Object(f["a"])({},a),{},Object(Fe["a"])({},c.poemName,[c])),n.set(Object(f["a"])({},o)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=t.id,e.next=3,qe.collection("scores").where("poemId","==",c).get();case 3:return r=e.sent,console.log(r),e.abrupt("return",r.docs.map((function(e){return e.data()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=C.getUserInfo.value.email,e.next=3,qe.collection("users").doc(t).get();case 3:return e.abrupt("return",e.sent.data());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We={getHighscores:Ge,getUserScores:Je,postScore:Ke,postScoreToUser:ze},Qe=Object(r["withScopeId"])("data-v-b9231f36");Object(r["pushScopeId"])("data-v-b9231f36");var Ze={style:{display:"flex",margin:"auto"}},$e={class:"type-area"},Xe={key:0,class:"space"},et={key:1,style:{margin:"1px"}};Object(r["popScopeId"])();var tt,ct=Qe((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",Ze,[Object(r["createVNode"])("div",$e,[Object(r["createVNode"])("div",{class:["poem",[n.fadeUp?"fadeUp":""]]},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.poemData,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:t,class:"line"},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e,c){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:[[n.caretPosition(t,c)?"caret":"",e.correct?"correct":""],"char"],key:c},[" "===e.char?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Xe)):(Object(r["openBlock"])(),Object(r["createBlock"])("div",et,Object(r["toDisplayString"])(e.char),1))],2)})),128))])})),128))],2)])])})),rt=(c("ac1f"),c("1276"),c("498a"),c("159b"),c("b680"),c("5319"),c("99af"),Object(r["ref"])(0)),nt=Object(r["ref"])(0),at=Object(r["ref"])(0),ot=Object(r["ref"])(0),it=Object(r["ref"])(0),st=Object(r["ref"])(0),ut=Object(r["ref"])(!1),lt=Object(r["ref"])(0),dt=function(){return lt.value++},pt=function(){return lt.value=0},bt=function(){return st.value=0},ft=function(){return rt.value=0},Ot=function(){return st.value++},vt=function(){return rt.value++},jt=function(e){nt.value=e.reduce((function(e,t){return e+=t.length,e}),0)},mt=function(){return wt.value},ht=function(){return kt.value},gt=function(){return((1e5-+wt.value.replace(/:/g,""))*(+kt.value/100)).toFixed(0)},yt=Object(r["computed"])((function(){return"".concat(st.value,"/").concat(nt.value)})),kt=Object(r["computed"])((function(){return 0===lt.value&&0==rt.value?0:(100-lt.value/(rt.value+lt.value)*100).toFixed(1)})),wt=Object(r["computed"])((function(){var e=at.value>9?at.value:"0"+at.value,t=ot.value>9?ot.value:"0"+ot.value,c=it.value>9?it.value:"0"+it.value;return"".concat(e,":").concat(t,":").concat(c)})),Nt={minutes:at,seconds:ot,milliseconds:it,progressCount:st,completed:ut,errors:lt,addError:dt,resetErrors:pt,resetProgressCount:bt,resetKeyPressCounter:ft,addToProgressCount:Ot,addKeyPress:vt,getCharAmount:jt,progressCounter:yt,accuracy:kt,getTime:mt,getAccuracy:ht,timer:wt,getScore:gt},xt={name:"App",props:{poem:{type:Object,required:!0},activeTab:{type:String,required:!0}},setup:function(e){var t,c=Nt.minutes,n=Nt.seconds,a=Nt.milliseconds,o=Nt.completed,i=Nt.addError,s=Nt.resetErrors,u=Nt.resetProgressCount,l=Nt.resetKeyPressCounter,d=Nt.addToProgressCount,p=Nt.addKeyPress,f=Nt.getCharAmount,O=e.poem.lines.reduce((function(e,t){return e.push(t.trim().split(tt||(tt=Object($["a"])([""]))).reduce((function(e,t){return e.push({char:t,correct:null}),e}),[])),e}),[]),v=Object(r["ref"])(!1),j=Object(r["ref"])(0),m=Object(r["ref"])(0);f(O);var h=function(e,t){return e===t},g=function(){return j.value++},y=function(){return m.value===O.length-1&&j.value===O[O.length-1].length},k=function(e){return e.correct=!0},w=function(){return o.value=!0},N=function(){return window.addEventListener("keydown",E)},x=function(){return window.removeEventListener("keydown",E)},V=function(){return clearInterval(t)},S=function(){return m.value++},B=function(){return j.value===O[m.value].length},I=function(){return j.value=0},D=function(){return m.value=0},C=function(e){return 1!=e.length&&"Space"!=e&&"Escape"!=e&&"½"!=e},T=function(e){return"Escape"===e},P=function(){return c.value=0},R=function(){return n.value=0},A=function(){return a.value=0},U=function(){P(),R(),A()},L=function(){return o.value=!1},_=function(){return O.forEach((function(e){return e.forEach((function(e){return e.correct=!1}))}))},M=function(e,t){return m.value===e&&j.value===t},H=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:I(),D(),u(),_(),L(),U(),l(),s(),V();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){if(o.value&&T(e.key))H();else if(!C(e.key))if(T(e.key))H();else{"½"==e.key&&(w(),V());var t=e.key,c=O[m.value][j.value];if(h(t,c.char)){if(d(),k(c),p(),g(),y())return w(),void V();B()&&(S(),I())}else j.value>0&&i()}};return Object(r["watch"])((function(){return e.activeTab}),(function(e){"highscore"===e?x():N()})),Object(r["watch"])((function(){return j.value}),(function(e){1===e&&0==m.value&&(t=setInterval((function(){a.value+=1,100===a.value&&(n.value++,a.value=0),60===n.value&&(n.value=0,c.value++)}),10))})),Object(r["onMounted"])((function(){N(),setTimeout((function(){v.value=!0}),10)})),Object(r["onBeforeUnmount"])(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:I(),D(),u(),_(),L(),U(),l(),s(),V(),x();case 10:case"end":return e.stop()}}),e)})))),{poemData:O,caretPosition:M,completed:o,fadeUp:v}}};c("686c");xt.render=ct,xt.__scopeId="data-v-b9231f36";var Vt=xt,St=Object(r["withScopeId"])("data-v-09423f2c"),Bt=St((function(e,t,c,n,a,o){var i=Object(r["resolveComponent"])("datatable");return n.highscoreLoaded?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0,data:n.highscores,fadeIn:n.fadeIn},null,8,["data","fadeIn"])):Object(r["createCommentVNode"])("",!0)})),It=Object(r["withScopeId"])("data-v-938b9c9a");Object(r["pushScopeId"])("data-v-938b9c9a");var Dt=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{class:"text-left position"},"#"),Object(r["createVNode"])("th",{class:"text-left position"},"User"),Object(r["createVNode"])("th",{class:"text-left position"},"Date"),Object(r["createVNode"])("th",{class:"text-right position"},"Accuracy"),Object(r["createVNode"])("th",{class:"text-right position"},"Time"),Object(r["createVNode"])("th",{class:"text-right position"},"Score")],-1),Ct={key:0},Tt={class:"text-left "},Pt={class:"text-left"},Rt={class:"text-left"},At={class:"text-right"},Ut={class:"text-right"},Lt={class:"text-right"},_t={key:1},Mt={class:"text-left"},Ht=Object(r["createVNode"])("td",{class:"text-left"},"Could be you!",-1);Object(r["popScopeId"])();var Et=It((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("table",null,[Dt,c.data.length?(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",Ct,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(c.data,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:e,class:[c.fadeIn?"fadeIn":""],style:"transition-delay:".concat("0."+t+80,"s")},[Object(r["createVNode"])("td",Tt,Object(r["toDisplayString"])(t+1),1),Object(r["createVNode"])("td",Pt,Object(r["toDisplayString"])(e.email),1),Object(r["createVNode"])("td",Rt,Object(r["toDisplayString"])(n.formatDate(e.date.seconds)),1),Object(r["createVNode"])("td",At,Object(r["toDisplayString"])(e.accuracy)+"%",1),Object(r["createVNode"])("td",Ut,Object(r["toDisplayString"])(e.time),1),Object(r["createVNode"])("td",Lt,Object(r["toDisplayString"])(e.score),1)],6)})),128))])):(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",_t,[(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(10,(function(e,t){return Object(r["createVNode"])("tr",{key:e,class:[c.fadeIn?"fadeIn":""],style:"transition-delay:".concat("0."+t+80,"s")},[Object(r["createVNode"])("td",Mt,Object(r["toDisplayString"])(t+1),1),Ht],6)})),64))]))])})),Ft=c("5a0c"),Yt=c.n(Ft),qt={props:{data:{type:Array,required:!0},fadeIn:{type:Boolean,required:!0}},setup:function(){var e=c("0ecf");Yt.a.extend(e);var t=function(e){var t=Yt.a.unix(e);return t.local().format("hh:mm:ss A, dddd, MMMM D YYYY")};return{formatDate:t}}};c("029b");qt.render=Et,qt.__scopeId="data-v-938b9c9a";var Kt=qt,zt={components:{datatable:Kt},props:{active:{type:String,required:!1}},setup:function(){var e=Object(r["ref"])(!1),t=Object(A["c"])(),c=Object(r["ref"])([]),n=Object(r["ref"])(!1),a=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We.getHighscores({id:t.params.id});case 3:r=e.sent,c.value=r,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a();case 2:n.value=!0,setTimeout((function(){e.value=!0}),100);case 4:case"end":return t.stop()}}),t)})))),{fadeIn:e,highscores:c,highscoreLoaded:n}}};c("c56e");zt.render=Bt,zt.__scopeId="data-v-09423f2c";var Gt=zt,Jt={components:{TypingArea:Vt,Highscore:Gt},setup:function(){var e=Nt.timer,t=Nt.progressCounter,c=Nt.accuracy,n=Nt.completed;Object(r["watch"])((function(){return n.value}),(function(e){return e?o.value=!1:null}));var a=Object(r["ref"])(!1),o=Object(r["ref"])(!1),i=Object(A["c"])(),s=Object(r["ref"])("poem"),u=function(e){return s.value=e},l=w.getSinglePoem(i.params.id),d=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(C.isAuthenticated()){e.next=3;break}return console.log("Im not that stupid"),e.abrupt("return");case 3:return a.value=!0,e.prev=4,e.next=7,We.postScore({data:{time:Nt.getTime(),score:Nt.getScore(),accuracy:Nt.getAccuracy(),poemId:String(l.id),poemName:l.title,date:new Date}});case 7:return t=e.sent,e.next=10,We.postScoreToUser({data:{time:Nt.getTime(),score:Nt.getScore(),accuracy:Nt.getAccuracy(),poemId:String(l.id),poemName:l.title,date:new Date}});case 10:t&&setTimeout((function(){a.value=!1,o.value=!0}),300),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return{poem:l,activeTab:s,setActiveTab:u,timer:e,progressCounter:t,accuracy:c,completed:n,submitScore:d,statsHandler:Nt,scoreIsSubmitting:a,submitted:o,userHandler:C,removeEventListener:removeEventListener}}};c("9326");Jt.render=Ee,Jt.__scopeId="data-v-1cffd614";var Wt=Jt,Qt=Object(r["withScopeId"])("data-v-272c75b8");Object(r["pushScopeId"])("data-v-272c75b8");var Zt={style:{width:"100%"}},$t=Object(r["createVNode"])("div",{class:"title"},"Rankings",-1),Xt=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{class:"text-left position"},"Position"),Object(r["createVNode"])("th",{class:"text-left"},"Username"),Object(r["createVNode"])("th",{class:"text-right"},"Accuracy"),Object(r["createVNode"])("th",{class:"text-right"},"Time"),Object(r["createVNode"])("th",{class:"text-right"},"Score")],-1),ec={class:"text-left"},tc=Object(r["createVNode"])("td",{class:"text-left"},"nickewideving@gmail.com",-1),cc=Object(r["createVNode"])("td",{class:"text-right"},"98%",-1),rc=Object(r["createVNode"])("td",{class:"text-right"},"01:23:29",-1),nc=Object(r["createVNode"])("td",{class:"text-right"},"1220",-1);Object(r["popScopeId"])();var ac=Qt((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",Zt,[$t,Object(r["createVNode"])("table",null,[Xt,(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(20,(function(e,t){return Object(r["createVNode"])("tr",{key:e},[Object(r["createVNode"])("td",ec,Object(r["toDisplayString"])(t+1),1),tc,cc,rc,nc])})),64))])])})),oc={setup:function(){return{}}};c("8b4b");oc.render=ac,oc.__scopeId="data-v-272c75b8";var ic=oc,sc=Object(r["withScopeId"])("data-v-643e7b64");Object(r["pushScopeId"])("data-v-643e7b64");var uc={class:"profile-wrapper"},lc={class:"user-info"},dc={class:"user-score"},pc=Object(r["createVNode"])("span",null,"Points",-1),bc={class:"poem-name"},fc=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{class:"text-left position"},"Date"),Object(r["createVNode"])("th",{class:"text-right position"},"Accuracy"),Object(r["createVNode"])("th",{class:"text-right position"},"Time"),Object(r["createVNode"])("th",{class:"text-right position"},"Score")],-1),Oc={class:"text-left"},vc={class:"text-right"},jc={class:"text-right"},mc={class:"text-right"};Object(r["popScopeId"])();var hc=sc((function(e,t,c,n,a,o){return Object(r["openBlock"])(),Object(r["createBlock"])("div",uc,[Object(r["createVNode"])("div",lc,[Object(r["createVNode"])("img",{height:"60",src:n.photoURL,alt:""},null,8,["src"]),Object(r["createVNode"])("div",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.email)+" ",1),Object(r["createVNode"])("button",{class:"sign-out",onClick:t[1]||(t[1]=function(){return n.logout&&n.logout.apply(n,arguments)})},"Sign out")]),Object(r["createVNode"])("div",dc,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(n.totalScore),1),pc])]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.typedPoems,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:e,onClick:function(e){return n.setActivePoem(t)},class:["score details",n.activePoems.includes(t)?"expand":""]},[Object(r["createVNode"])("div",bc,Object(r["toDisplayString"])(t),1),Object(r["createVNode"])("table",null,[fc,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:e},[Object(r["createVNode"])("td",Oc,Object(r["toDisplayString"])(n.formatDate(e.date.seconds)),1),Object(r["createVNode"])("td",vc,Object(r["toDisplayString"])(e.accuracy)+"%",1),Object(r["createVNode"])("td",jc,Object(r["toDisplayString"])(e.time),1),Object(r["createVNode"])("td",mc,Object(r["toDisplayString"])(e.score),1)])})),128))])])],10,["onClick"])})),128))])})),gc=(c("c740"),c("a434"),{components:{},setup:function(){var e=Object(A["d"])(),t=Object(r["ref"])([]),n=Object(r["ref"])(""),a=[{text:"Date",align:"left"},{text:"Accuracy",align:"right"},{text:"Time",align:"right"},{text:"Score",align:"right"}],o=c("0ecf");Yt.a.extend(o);var i=function(e){var t=Yt.a.unix(e);return t.local().format("hh:mm:ss A, dddd, MMMM D YYYY")},s=C.getUserInfo.value,u=s.email,l=s.photoURL,d=Object(r["ref"])(0),p=Object(r["ref"])([]),f=function(e){var t=p.value.findIndex((function(t){return t===e}));-1!=t?p.value.splice(t,1):p.value.push(e)},O=function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T["a"].auth().signOut();case 2:C.unsetAuthenticated(),e.push("/");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function e(){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,We.getUserScores();case 2:for(c in t.value=e.sent,t.value)t.value[c].forEach((function(e){d.value+=+e.score}));case 4:case"end":return e.stop()}}),e)})))),{typedPoems:t,activePoem:n,setActivePoem:f,userHandler:C,email:u,photoURL:l,headers:a,formatDate:i,activePoems:p,totalScore:d,logout:O}}});c("4c15");gc.render=hc,gc.__scopeId="data-v-643e7b64";var yc=gc,kc=[{path:"/",name:"Poems",component:le},{path:"/poems/:id",name:"Poem",component:Wt},{path:"/rankings",name:"Ranking",component:ic},{path:"/profile",name:"profile",component:yc}],wc=Object(A["a"])({history:Object(A["b"])("/"),routes:kc}),Nc=wc,xc=c("d71b"),Vc=c("2106"),Sc=c.n(Vc);Object(r["createApp"])(R).use(Nc).use(xc["a"]).use(Sc.a,v.a).mount("#app")},"5d75":function(e,t,c){},"686c":function(e,t,c){"use strict";c("802f")},7688:function(e,t,c){},"76d4":function(e,t,c){},"802f":function(e,t,c){},"8b4b":function(e,t,c){"use strict";c("0cec")},9326:function(e,t,c){"use strict";c("5d75")},af1c:function(e,t,c){},c56e:function(e,t,c){"use strict";c("3eb1")},cab6:function(e,t,c){"use strict";c("d3a8")},d3a8:function(e,t,c){},e7d0:function(e,t,c){"use strict";c("af1c")},fe0d:function(e,t,c){}});
//# sourceMappingURL=app.9e680255.js.map